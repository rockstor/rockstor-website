# Contributions
This repo is periodically published to:

[rockstor.com](https://rockstor.com/)

For contribution guidelines, see: [Contributing to Rockstor documentation](https://rockstor.com/docs/contribute_documentation.html).
For content additions/changes please stick to **one sentence per line** as this helps with translations and reviews of changes.
Really long sentences may be broken at punctuation points.
See [Semantic Linefeeds](https://rhodesmill.org/brandon/2012/one-sentence-per-line/) which sites Brian W. Kernighan (1974).
Our EULA content is the one exception: to aid in tracking upstream.

Our [privacy_policy](https://rockstor.com/privacy_policy.html) has "... no cookies are used." for this site.
So we cannot include such things as for example the Hugo YouTube embed build-in shortcode.
Even with "[privacyEnhanced](https://gohugo.io/about/hugo-and-gdpr/#youtube) = true" our visitors will still incur cookies.
Instead use "See YouTube video-title-as-watch-link".
See: https://gohugo.io/about/hugo-and-gdpr/

## Debug build
The minimum version of Hugo required is indicated in the top level config file "config.toml".
The maximum version is 0.122.0 as 0.123.0 introduced breaking changes for the downloads page.
Help with removing this upper version limit would be appreciated.
Be sure to update the minimum version if a newer Hugo feature is used,
or the maximum version tested to successfully render the downloads page.

See the [Install Hugo](https://gohugo.io/getting-started/installing/) doc section for how to run Hugo locally.
You can then build and test your changes locally by running (in the top directory of this repo):

    hugo server -D

The local http site generated is usually at: http://localhost:1313/ and the baseURL config is ignored for this preview.

## Adding new content via archetypes
Hugo has archetypes intended to ease the initial creation (primarily of front-matter) of new content.
Example:

    hugo new partners/zulip.md

Results in a new content/partners/zulip.md file complete with the appropriate front matter.

## Sizing partner icons
Borrowing from the excellent guidelines provided by Zulip, an existing Partner, we have:

    rsvg-convert -h 60 zulip-org-logo.svg -o zulip-org-logo-60.png

## System Alert header
As per [Adding new content via archetypes](#adding-new-content-via-archetypes) above,
there is also a `sysalert` archetype.

Intended to indicate ongoing maintenance associated with expected service outages. 
These alerts appear, via their own partial layout, as an index page header.
The default expiration period, set via the archetype, is creation data-time plus 48 hours.

Example:

    hugo new sysalerts/forum.md

## Final build
The production build is generated by the following command:

    hugo

Which creates and populates the intended document root content under ./public/.
Note that pre-existing files in ./public are not removed.
So it is best to first delete any prior ./public directory before running this command.

# Current State
The contents represents our Hugo re-do our our prior existing web-site, and is a work in progress.
There is no additional theme requirement as we have our own custom layout for all elements; developed from scratch.
If you see any anomalies or Hugo inelegancies/errors then please consider contributing a pull request.

# History
This website was initially developed using a Python based static site generator believed to be [hyde](https://github.com/hyde/hyde).
Things happened and likely required modifications out grew the generator and we were left with a semi machine generated mess.
In time we then transitioned to [Hugo](https://gohugo.io/) using our own layout files, i.e. no external theme.
This was done primarily to aid maintenance/use and to include our website development in our community endeavours.

# Hopes 
We want to add French & European Portuguese etc translations.
But we must first enable and configure Hugo's built-in multi lingual capabilities.
This is to be tackled in a dedicated GitHub issue.
If you are game to offer any translations then please be patient as we work towards this capability.
